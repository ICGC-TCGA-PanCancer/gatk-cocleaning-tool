class: CommandLineTool
cwlVersion: v1.0
label: GATK PrintReads

hints:
  - class: ResourceRequirement
    coresMin: 8

requirements: 
  - class: DockerRequirement
    dockerPull: "opengenomics/gatk-cocleaning:v1.0"

baseCommand: 
  - "java"
  - "-jar"
  - "/opt/GenomeAnalysisTK.jar"

arguments: 
  - 
    valueFrom: "PrintReads"
    prefix: -T
    position: 1
  - 
    valueFrom: "8"
    prefix: -nct
    position: 2
  - 
    valueFrom: "output.bam"
    prefix: -o
    position: 3

inputs: 
  input_bam:
    type: File
    inputBinding: 
      prefix: -I
      position: 5

  input_bam_bai:
    type: File

  reference:
    type: File
    inputBinding: 
      prefix: -R
      position: 4

  reference_fai:
    type: File

  reference_dict:
    type: File

  emit_oq:
    type: ["null", boolean]
    inputBinding: 
      prefix: --emit_original_quals
      position: 6

  bqsr:
    type: File
    inputBinding: 
      prefix: -BQSR
      position: 7

outputs: 
  bam:
    type: File
    outputBinding: 
      glob: "output.bam"

  bai:
    type: File
    outputBinding: 
      glob: "output.bam.bai"
